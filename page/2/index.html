<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Page 2 › 不止是一位程序员</title>
  <meta name="author" content="ckmessi">
  
  <meta name="description" content="Lionel的技术笔记总结">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="不止是一位程序员"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/blog-hexo/favicon.png" rel="icon">
  <link rel="alternate" href="/blog-hexo/atom.xml" title="不止是一位程序员" type="application/atom+xml">
  <link rel="stylesheet" href="/blog-hexo/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  

</head>


<body>
  <header id="header"><div class="meta inner">
  <h1><a href="/blog-hexo/">不止是一位程序员</a></h1>
  <h2><a href="/blog-hexo/">Lionel的技术空间</a></h2>
  <nav id="main-nav">
    <ul>
      
      <li><a href="/about">About</a></li>
      
      <li><a href="/archives">Archives</a></li>
      
      <li><a href="/atom.xml">RSS</a></li>
      
    </ul>
    <div class="clearfix"></div>
  </nav>
</div>
<div class="clearfix"></div>
</header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
  <article class="post">
  <div class="post-content">
    <header>
      
  
    <h1 class="title"><a href="/blog-hexo/2018/12/27/Mybatis使用多个参数进行查询的方式/">Mybatis使用多个参数进行查询的方式</a></h1>
  

      
        <time datetime="2018-12-27T09:26:46.000Z">2018-12-27</time>
      
    </header>
    <div class="entry">
      
        <p>在使用 <code>Mybatis</code> 进行简单的查询操作时，发现一个参数与多个参数的差别并不仅仅在于参数数量。</p>
<h2 id="单参数查询"><a href="#单参数查询" class="headerlink" title="单参数查询"></a>单参数查询</h2><p>举例而言，在 <code>xxxMapper.xml</code> 文件中所写的单参数查询可以是：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&lt;sql id=&quot;tableName&quot;&gt;</div><div class="line">    TABLE_NAME</div><div class="line">&lt;/sql&gt;</div><div class="line">&lt;sql id=&quot;baseColumnList&quot;&gt;</div><div class="line">    ID, CODE, NAME, ..., VERSION</div><div class="line">&lt;/sql&gt;</div><div class="line">&lt;select id=&quot;getItemByCode&quot; resultMap=&quot;BaseResultMap&quot;&gt;</div><div class="line">    select</div><div class="line">        &lt;include refid=&quot;baseColumnList&quot; /&gt;</div><div class="line">    from</div><div class="line">        &lt;include refid=&quot;tableName&quot; /&gt;</div><div class="line">    where CODE = #&#123;code&#125;</div><div class="line">&lt;/select&gt;</div></pre></td></tr></table></figure></p>
<p>在接口文件 <code>xxxMapper.java</code> 中的接口为：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">XXX getItemByCode(String code);</div></pre></td></tr></table></figure></p>
<h3 id="多参数查询"><a href="#多参数查询" class="headerlink" title="多参数查询"></a>多参数查询</h3><p>在需要使用多个参数进行查询的时候，如果单纯添加两个文件中参数数量：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;select id=&quot;getItemByCodeAndId&quot; resultMap=&quot;BaseResultMap&quot;&gt;</div><div class="line">    select</div><div class="line">        &lt;include refid=&quot;baseColumnList&quot; /&gt;</div><div class="line">    from</div><div class="line">        &lt;include refid=&quot;tableName&quot; /&gt;</div><div class="line">    where CODE = #&#123;code&#125; and ID = #&#123;id&#125;</div><div class="line">&lt;/select&gt;</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">XXX getItemByCodeAndId(String code, String id);</div></pre></td></tr></table></figure>
<p>则会抛错：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Parameter &apos;id&apos; not found. Available parameters are [arg2, arg1, arg0, param3, param1, param2]或者Parameter &apos;0&apos; not found. Available parameters are [arg2, arg1, arg0, param3, param1, param2]</div></pre></td></tr></table></figure></p>
<p>问题在于在 <code>MyBatis</code> 中不会识别这样的参数。</p>
<p>一种方案是修改 <code>Mapper.xml</code> 中的代码，将 <code>#{code}</code> 和 <code>#{id}</code> 修改成#{arg0}，#{arg1}这样的形式。<br>还有一种方式更加优雅，修改 <code>xxxMapper.java</code> 文件内容，添加注解：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">XXX getItemByCodeAndId(@Param(&quot;code&quot;) String code, @Param(&quot;id&quot;) String id);</div></pre></td></tr></table></figure></p>
<h3 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h3><p><a href="https://www.cnblogs.com/EasonJim/p/7056256.html" target="_blank" rel="external">https://www.cnblogs.com/EasonJim/p/7056256.html</a><br><a href="https://www.oschina.net/question/1160609_133366" target="_blank" rel="external">https://www.oschina.net/question/1160609_133366</a></p>

      
    </div>
      
        
        
      
      <div class="clearfix"></div>
      </footer>
  </div>
</article>





  <article class="post">
  <div class="post-content">
    <header>
      
  
    <h1 class="title"><a href="/blog-hexo/2018/12/17/部署-Spring-Boot-项目到服务器上/">部署 Spring Boot 项目到服务器上</a></h1>
  

      
        <time datetime="2018-12-17T09:39:42.000Z">2018-12-17</time>
      
    </header>
    <div class="entry">
      
        <p>将 <code>Spring Boot</code> 项目部署到服务器上的方式非常简单：生成jar包 -&gt; 上传 -&gt; 执行。</p>
<p>由于 <code>Spring Boot</code> 内嵌了 <code>tomcat</code>，因此直接将项目打包，上传至服务器上即可，具体流程如下：</p>
<p>在项目依赖文件 <code>pom.xml</code> 中添加：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;plugin&gt;</div><div class="line">    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</div><div class="line">    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;</div><div class="line">&lt;/plugin&gt;</div></pre></td></tr></table></figure></p>
<p>在 <code>IDEA</code> 环境下，使用右侧 <code>Maven Projects</code> 工具界面，执行 <code>maven package</code> 命令。</p>
<p>如果执行成功，会显如下的信息：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[INFO] Building jar: C:\User\…\xxx-0.1.0-SNAPSHOT.jar</div><div class="line">[INFO]   </div><div class="line">[INFO] ---- spring-boot-maven-plugin:1.5.11.RELEASE:repackage (default) @ ...</div><div class="line">[INFO] -----------</div><div class="line">[INFO] BUILD SUCCESS</div></pre></td></tr></table></figure></p>
<p>把这个 <code>xxx-0.1.0-SNAPSHOT.jar</code> 文件上传到服务器上。</p>
<p>假定服务器上已经配置好Java环境，执行 <code>java -jar xxx-0.1.0-SNAPSHOT.jar</code> ，即可启动项目。</p>
<p>如果在启动的时候抛错：<code>no main manifest attribute, in xxx-0.1.0-SNAPSHOT.jar</code> ，原因是没有在 <code>pom.xml</code> 中添加文章开始时指定的插件依赖。</p>
<p>参考链接：<br><a href="https://blog.csdn.net/superdangbo/article/details/80760691" target="_blank" rel="external">https://blog.csdn.net/superdangbo/article/details/80760691</a><br><a href="http://www.cnblogs.com/syq816/p/9566148.html" target="_blank" rel="external">http://www.cnblogs.com/syq816/p/9566148.html</a></p>

      
    </div>
      
        
        
      
      <div class="clearfix"></div>
      </footer>
  </div>
</article>





  <article class="post">
  <div class="post-content">
    <header>
      
  
    <h1 class="title"><a href="/blog-hexo/2018/12/11/使用Vim修改文件编码/">使用Vim修改文件编码</a></h1>
  

      
        <time datetime="2018-12-11T09:12:26.000Z">2018-12-11</time>
      
    </header>
    <div class="entry">
      
        <p>使用 <code>Vim</code> 打开相关文件。</p>
<p>使用以下命令可以显示文件编码格式：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">:set fileencoding</div></pre></td></tr></table></figure></p>
<p>使用以下命令可以转换文件编码格式：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">:set fileencoding=utf-8</div><div class="line">:set fileencoding=GBK</div></pre></td></tr></table></figure></p>
<p>在某些情况下，要快速将一个 <code>UTF8</code> 格式的 <code>.csv</code> 文件转为可被 <code>Excel</code> 打开时，可以使用 <code>Vim</code> 快速将文件转为 <code>GBK</code> 编码格式。</p>

      
    </div>
      
        
        
      
      <div class="clearfix"></div>
      </footer>
  </div>
</article>





  <article class="post">
  <div class="post-content">
    <header>
      
  
    <h1 class="title"><a href="/blog-hexo/2018/12/10/git-fetch-的使用/">git fetch 的使用</a></h1>
  

      
        <time datetime="2018-12-10T09:09:32.000Z">2018-12-10</time>
      
    </header>
    <div class="entry">
      
        <p>在使用 <code>git</code> 的过程中，可能会使用到 <code>git fetch</code> 命令，这个命令与 <code>git pull</code> 很相似。</p>
<p><code>git fetch</code> 命令与 git 仓库中配置文件 <code>.git/FETCH_HEAD</code> 息息相关。</p>
<p><code>.git/FETCH_HEAD</code> 文件是一个版本链接，记录在本地的一个文件中，指向着目前已经从远程仓库取下来的分支的末端版本。</p>
<p>使用命令 <code>vim .git/FETCH_HEAD</code> 可以查看内容：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">b37eecb8bc92843a3613b7e85a94d515af18d72b    branch &apos;master&apos; of https://github.com/ckmessi/blog-hexo</div></pre></td></tr></table></figure></p>
<p><code>git fetch</code> 命令的实质，就是将远程仓库的信息写入到 <code>.git/FETCH_HEAD</code> 文件中。<br>如果执行了 <code>git fetch</code> 或 <code>git fetch origin</code> ，在 <code>FETCH_HEAD</code> 文件中显示的是 <code>origin</code> 远端分支的情况；如果执行了 <code>git fetch upstream</code> ，在 <code>FETCH_HEAD</code> 文件中显示的是 <code>upstream</code> 对应远端分支的情况。</p>
<p>而 <code>git pull</code> 命令的实质操作流程，是基于本地的 <code>FETCH_HEAD</code> 记录，比对本地的与远程仓库的版本号，使用 <code>git fetch</code> 获取当前指向的远程分支的后续版本的数据，然后利用 <code>git merge</code> 将其与本地的当前分支合并。</p>
<p>因此，可以部分理解为：<code>git pull</code> = <code>git fetch</code> + <code>git merge</code> </p>
<p>参考资料：<a href="https://www.cnblogs.com/ToDoToTry/p/4095626.html" target="_blank" rel="external">https://www.cnblogs.com/ToDoToTry/p/4095626.html</a></p>

      
    </div>
      
        
        
      
      <div class="clearfix"></div>
      </footer>
  </div>
</article>





  <article class="post">
  <div class="post-content">
    <header>
      
  
    <h1 class="title"><a href="/blog-hexo/2018/11/12/Oracle数据库创建表并添加自增字段/">Oracle数据库创建表并添加自增字段</a></h1>
  

      
        <time datetime="2018-11-12T09:30:03.000Z">2018-11-12</time>
      
    </header>
    <div class="entry">
      
        <p>这篇文章记录一些简单的Oracle数据库操作语句。</p>
<h2 id="查询当前存在的表名称列表"><a href="#查询当前存在的表名称列表" class="headerlink" title="查询当前存在的表名称列表"></a>查询当前存在的表名称列表</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">select * from user_tables;</div></pre></td></tr></table></figure>
<h2 id="Oracle创建表"><a href="#Oracle创建表" class="headerlink" title="Oracle创建表"></a>Oracle创建表</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">CREATE TABLE PREFIX_USER</div><div class="line">(</div><div class="line">    ID NUMBER not NULL</div><div class="line">        constraint PREFIX_USER_PK</div><div class="line">        primary key,</div><div class="line">    USER_NAME VARCHAR(128),</div><div class="line">    REMARK VARCHAR(256),</div><div class="line">    CREATED_AT TIMESTAMP default current_timestamp,</div><div class="line">    UPDATED_AT TIMESTAMP default NULL</div><div class="line">);</div></pre></td></tr></table></figure>
<h2 id="Oracle设置数据库表自增字段"><a href="#Oracle设置数据库表自增字段" class="headerlink" title="Oracle设置数据库表自增字段"></a>Oracle设置数据库表自增字段</h2><p>与Mysql等数据库不同，Oracle无法直接在表字段中直接设置 <code>auto_increment</code> 属性。</p>
<p>思路：创建一个从1开始一直自增的SEQUENCE，在每一次对表进行INSERT操作前，对SEQUENCE进行SELECT操作得到新值，然后赋值给表中新的这一行。</p>
<p>示例：若PREFIX_USER中包含ID字段，欲将其设置为自增，可以在新建表后，执行以下两条SQL语句。</p>
<p>首先创建一个序列器：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">CREATE SEQUENCE PREFIX_USER_ID_SEQUENCE</div><div class="line">MINVALUE 1</div><div class="line">NOMAXVALUE</div><div class="line">INCREMENT BY 1</div><div class="line">START WITH 1</div><div class="line">NOCACHE</div><div class="line">NOCYCLE;</div></pre></td></tr></table></figure>
<p>在每次对 <code>PREFIX_USER</code> 表进行 <code>INSERT</code> 操作前，都先运行 <code>SELECT</code> 语句对 <code>PREFIX_USER_ID_SEQUENCE</code> 读取下一个值，然后赋值给 <code>PREFIX_USER</code> 表的新行；</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">CREATE OR REPLACE TRIGGER PREFIX_USER_ID_TRIGGER BEFORE</div><div class="line">INSERT ON PREFIX_USER</div><div class="line">FOR EACH ROW</div><div class="line">BEGIN</div><div class="line">    SELECT PREFIX_USER_ID_SEQUENCE.nextval into:NEW.ID from dual;</div><div class="line">END PREFIX_USER_ID_TRIGGER;</div></pre></td></tr></table></figure>
<p>参考链接：<a href="https://stackoverflow.com/questions/11296361/how-to-create-id-with-auto-increment-on-oracle" target="_blank" rel="external">https://stackoverflow.com/questions/11296361/how-to-create-id-with-auto-increment-on-oracle</a></p>

      
    </div>
      
        
        
      
      <div class="clearfix"></div>
      </footer>
  </div>
</article>





  <article class="post">
  <div class="post-content">
    <header>
      
  
    <h1 class="title"><a href="/blog-hexo/2018/10/31/在Visual-Studio使用libfacedetection检测人脸关键点/">在Visual Studio使用libfacedetection检测人脸关键点</a></h1>
  

      
        <time datetime="2018-10-31T10:37:16.000Z">2018-10-31</time>
      
    </header>
    <div class="entry">
      
        <p><code>libfacedetection</code> 是一个用于人脸检测和人脸 landmark 关键点检测的工具。<br>Github仓库地址：<a href="https://github.com/ShiqiYu/libfacedetection" target="_blank" rel="external">https://github.com/ShiqiYu/libfacedetection</a></p>
<p>首先，在 <code>Windows</code> 环境中，使用 <code>Visual Studio</code> 运行 <code>libfacedetection</code> 需要配置 <code>OpenCV</code> 环境。<br>首先在 <a href="https://opencv.org/" target="_blank" rel="external">OpenCV官网</a> 下载 <code>OpenCV</code> 的相关代码，假定其根目录为 <code>OPENCV_DIR</code> 。<br>进入项目的【属性】设置：</p>
<p>1.【配置属性】-&gt;【VC++目录】-&gt;【包含目录】：添加 <code>OpenCV</code> 的 <code>include</code> 文件夹。<br>例如 <code>D:\SDK\opencv-3.4.0-vc14_vc15\opencv\build\include;</code> ，理论上在这个 <code>include</code> 文件夹下有两个子文件夹 <code>opencv</code> 和 <code>opencv2</code> 。有些网络上的文章建议将这两个文件夹的路径也添加到包含目录中，实质上是不需要的，在代码中通过 <code>opencv/highgui.hpp</code> 或 <code>opencv2/highgui.hpp</code> 进行区分即可。</p>
<p>2.【配置属性】-&gt;【VC++目录】-&gt;【库目录】：添加 <code>OpenCV</code> 的 <code>lib</code> 文件夹。<br>例如 <code>D:\SDK\opencv-3.4.0-vc14_vc15\opencv\build\x64\vc15\lib;</code> ，理论上这个 <code>lib</code> 文件夹下会有相关的 <code>.lib</code> 文件。</p>
<p>3.【配置属性】-&gt;【链接器】-&gt;【输入】-&gt;【附加依赖项】：添加 <code>OpenCV</code> 的 <code>lib</code> 文件夹中对应 <code>.lib</code> 文件名称列表。<br>例如 <code>opencv_world340d.lib</code> ，注意这里要根据当前属性页的配置是 <code>Release</code> 还是 <code>Debug</code> 来确定使用是否带 <code>d</code> 后缀的 <code>.lib</code> 文件，不要选错，也不要都添加上。此前遇到过使用 <code>imshow</code> 显示的图片是一片灰色或一闪而过的情况，都是由于在这里多添加了不相符的 <code>.lib</code> 文件导致的。</p>
<p>4.拷贝 opencv 的bin文件夹下的dll文件至当前目录。</p>
<p>如果完成了1和2，没有进行3，会在编译时抛错无法解析的外部符号<br>如果没有完成4，会在运行时抛出缺少dll的错误</p>
<p>使用libfacedetection的方式也是上述几步：</p>
<ol>
<li>添加include文件夹</li>
<li>添加lib文件夹</li>
<li>添加.lib文件列表</li>
<li>拷贝.dll文件</li>
</ol>
<p><a href="https://blog.csdn.net/mono_1032290547/article/details/78912548" target="_blank" rel="external">这篇博客</a>的流程很清晰。</p>

      
    </div>
      
        
        
      
      <div class="clearfix"></div>
      </footer>
  </div>
</article>





  <article class="post">
  <div class="post-content">
    <header>
      
  
    <h1 class="title"><a href="/blog-hexo/2018/09/30/Oh-My-Zsh配合agnoster主题及Solarized配色/">Oh-My-Zsh配合agnoster主题及Solarized配色</a></h1>
  

      
        <time datetime="2018-09-30T11:39:17.000Z">2018-09-30</time>
      
    </header>
    <div class="entry">
      
        <p>在OS Mac下，使用 <code>Iterm2</code> + <code>Oh-My-Zsh</code> + <code>agnoster主题</code> + <code>Solarized配色</code> 能够打造出一个精美的终端环境。<br>主要配置方法如下：</p>
<h4 id="Iterm2"><a href="#Iterm2" class="headerlink" title="Iterm2"></a>Iterm2</h4><p>在 <a href="https://www.iterm2.com/downloads.html" target="_blank" rel="external">Iterm2官网</a>  下载。<br>安装后，可以取代系统默认 <code>Terminal</code> 作为终端命令行工具使用。<br>常用的一些快捷键：</p>
<ul>
<li><code>Command</code> + <code>T</code> ：新建一个标签页</li>
<li><code>Command</code> + <code>W</code> ：关闭当前标签页</li>
<li><code>Command</code> + <code>Enter</code> ：切换全屏</li>
<li><code>Command</code> + <code>D</code> ：垂直分屏</li>
<li><code>Command</code> + <code>Shift</code> + <code>D</code> ：水平分屏</li>
<li><code>Command</code> + <code>[</code> / <code>]</code>：在当前分屏之间切换</li>
<li><code>Command</code> + <code>Option</code> + <code>方向键</code> ：在当前分屏之间切换</li>
<li><code>Command</code> + <code>Shift</code> + <code>H</code> ：列举出剪切板的历史记录</li>
</ul>
<h4 id="Oh-My-Zsh"><a href="#Oh-My-Zsh" class="headerlink" title="Oh-My-Zsh"></a>Oh-My-Zsh</h4><p>根据 <a href="https://ohmyz.sh/" target="_blank" rel="external">Oh-My-Zsh官网</a> 指导，使用以下命令安装。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sh -c &quot;$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)&quot;</div></pre></td></tr></table></figure></p>
<p>可以在 <code>~/.zshrc</code> 文件中进行自定义的配置及alias设定，比如添加下面这一行，能够直接使用 <code>sshaliyun</code> 连接服务器。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">alias sshaliyun=&quot;ssh username@ip&quot;</div></pre></td></tr></table></figure></p>
<p>其中有一行 <code>ZSH_THEME=&quot;robbyrussell&quot;</code> 是配置主题的，之后我们会对其进行修改。</p>
<h4 id="agnoster主题"><a href="#agnoster主题" class="headerlink" title="agnoster主题"></a>agnoster主题</h4><p>默认的 <code>robbyrussell</code> 主题其实已经很漂亮了，但现在网上比较流行的主题是 <code>agnoster</code> 。<br>启用这个主题的方式很简单，直接在 <code>~/.zshrc</code> 文件中修改主题配置内容：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ZSH_THEME=&quot;agnoster&quot;</div></pre></td></tr></table></figure></p>
<p>但真正启用这个主题需要一些汉字的依赖，否则终端会显示一些乱码。<br>这是因为 <code>agnoster</code> 主题中的一些字符需要安装 <a href="https://github.com/powerline/fonts" target="_blank" rel="external">powerline</a> 字体。<br>根据 <code>powerline</code> 字体项目说明，下载项目后执行 <code>./install.sh</code> ，就会自动将相关字体拷贝到系统中。<br>之后将 <code>powerline</code> 项目文件夹删除了也没关系，虽然有点卸磨杀驴的感觉。<br>安装后在 <code>Iterm2</code> 的 <code>Preference</code> -&gt; <code>Profiles</code> -&gt; <code>Text</code> 设置中，勾选 <code>Use a different font for non-ASCII text</code>，并将两种字体都选择为 <code>xxx for powerline</code> 字体。</p>

<p>重启终端，此时应该一些乱码字符已经变成正确了。<br>注意，对于Mac来说，原来的 <code>Monaco</code> 字体貌似在 <code>powerline</code> 项目中没有对应字体，可能需要额外下载一份字体并安装，可以参考<a href="https://gist.github.com/baopham/1838072" target="_blank" rel="external">这个链接</a>。</p>
<h4 id="Solarized配色"><a href="#Solarized配色" class="headerlink" title="Solarized配色"></a>Solarized配色</h4><p>Solarized是一种配色方案，在各种IDE及文本编辑器中都比较常见。<br>在 <a href="https://ethanschoonover.com/solarized/" target="_blank" rel="external">Solarized官网</a> 下载后，在 <code>Iterm</code> 的 <code>Preference</code> -&gt; <code>Profiles</code> -&gt; <code>Color</code> 右下角选择 <code>Import</code> 导入，然后选择 <code>Solarized xxx</code> 配色方案即可，个人比较偏爱暗色的方案，并且将终端背景色从 <code>#002833</code> 调整为 <code>#1a1a1a</code>。<br>最终终端界面：</p>

<h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><p><a href="https://ohmyz.sh/" target="_blank" rel="external">https://ohmyz.sh/</a><br><a href="https://blog.csdn.net/zheng0518/article/details/50817329" target="_blank" rel="external">https://blog.csdn.net/zheng0518/article/details/50817329</a><br><a href="https://www.iterm2.com/downloads.html" target="_blank" rel="external">https://www.iterm2.com/downloads.html</a><br><a href="https://gist.github.com/baopham/1838072" target="_blank" rel="external">https://gist.github.com/baopham/1838072</a><br><a href="https://ethanschoonover.com/solarized/" target="_blank" rel="external">https://ethanschoonover.com/solarized/</a><br><a href="https://github.com/powerline/fonts" target="_blank" rel="external">https://github.com/powerline/fonts</a><br><a href="https://github.com/powerline/fonts/issues/44" target="_blank" rel="external">https://github.com/powerline/fonts/issues/44</a><br><a href="http://www.siguoya.name/pc/home/article/256" target="_blank" rel="external">http://www.siguoya.name/pc/home/article/256</a></p>

      
    </div>
      
        
        
      
      <div class="clearfix"></div>
      </footer>
  </div>
</article>





  <article class="post">
  <div class="post-content">
    <header>
      
  
    <h1 class="title"><a href="/blog-hexo/2018/09/21/Laravel中server-php文件的作用/">Laravel中server.php文件的作用</a></h1>
  

      
        <time datetime="2018-09-21T06:49:05.000Z">2018-09-21</time>
      
    </header>
    <div class="entry">
      
        <p>在 <code>Laravel</code> 项目根目录下，有一个文件 <code>server.php</code> ，内容是：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">&lt;?php</div><div class="line"></div><div class="line">/**</div><div class="line"> * Laravel - A PHP Framework For Web Artisans</div><div class="line"> *</div><div class="line"> * @package Laravel</div><div class="line"> * @author Taylor Otwell &lt;taylor@laravel.com&gt;</div><div class="line"> */</div><div class="line"></div><div class="line">$uri = urldecode(</div><div class="line">    parse_url($_SERVER[&apos;REQUEST_URI&apos;], PHP_URL_PATH)</div><div class="line">);</div><div class="line"></div><div class="line">// This file allows us to emulate Apache&apos;s &quot;mod_rewrite&quot; functionality from the</div><div class="line">// built-in PHP web server. This provides a convenient way to test a Laravel</div><div class="line">// application without having installed a &quot;real&quot; web server software here.</div><div class="line">if ($uri !== &apos;/&apos; &amp;&amp; file_exists(__DIR__.&apos;/public&apos;.$uri)) &#123;</div><div class="line">    return false;</div><div class="line">&#125;</div><div class="line"></div><div class="line">require_once __DIR__.&apos;/public/index.php&apos;;</div></pre></td></tr></table></figure>
<p>此前一直没有使用到这个文件，也不知道它的作用。</p>
<p>直到最近有次安全扫描说其中使用相对路径可能存在问题，才注意到这个文件。</p>
<p>在 <code>stackoverflow</code> 上找到一篇回答，基本说明了这个文件的作用。</p>
<p>它是用于搭建一个PHP的内部服务器，在生产环境中不应该被使用。</p>
<blockquote>
<p>This web server is designed for developmental purposes only, and should not be used in production.</p>
</blockquote>
<p>事实上，可以在当前目录下使用 <code>php -S localhost:8000 server.php</code> 快速搭建一个服务器。</p>
<p>这个命令与 <code>php artisan serve</code> 命令的实质操作是相同的。</p>
<p>如果要指定端口号等信息，还可以附加一些参数 <code>php artisan serve --port=8080 --host=127.0.0.1</code></p>
<p>结论：在生产环境中如果使用 <code>nginx</code> 作为服务器，这个文件是可有可无的。</p>
<p>参考链接：<br><a href="https://stackoverflow.com/questions/16919920/what-is-the-purpose-of-the-server-php-file-in-laravel-4" target="_blank" rel="external">https://stackoverflow.com/questions/16919920/what-is-the-purpose-of-the-server-php-file-in-laravel-4</a></p>

      
    </div>
      
        
        
      
      <div class="clearfix"></div>
      </footer>
  </div>
</article>





  <article class="post">
  <div class="post-content">
    <header>
      
  
    <h1 class="title"><a href="/blog-hexo/2018/09/21/Ubuntu-16-04-升级OpenSSH/">Ubuntu 16.04 升级OpenSSH</a></h1>
  

      
        <time datetime="2018-09-21T06:11:39.000Z">2018-09-21</time>
      
    </header>
    <div class="entry">
      
        <p>Ubuntu 16.04 系统默认安装的 <code>OpenSSH</code> 版本为 <code>7.2</code> ，这个版本存在许多安全漏洞。</p>
<p>在一些安全扫描过程中，有可能抛出相关的警告。</p>
<p>为了避免系统处于危险，可以对 <code>OpenSSH</code> 进行升级。</p>
<p>使用 <code>ssh -V</code> 可以查看当前 <code>OpenSSH</code> 的版本：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">➜ ~ ssh -V</div><div class="line">OpenSSH_7.2p2 Ubuntu-4ubuntu2.2, OpenSSL 1.0.2g 1 Mar 2016</div></pre></td></tr></table></figure></p>
<p>使用如下命令升级 <code>OpenSSH</code> 。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">sudo apt install -y build-essential libssl-dev zlib1g-dev</div><div class="line">wget &quot;http://mirrors.evowise.com/pub/OpenBSD/OpenSSH/portable/openssh-7.4p1.tar.gz&quot;</div><div class="line">tar xfz openssh-7.4p1.tar.gz</div><div class="line">cd openssh-7.4p1</div><div class="line">./configure</div><div class="line">make</div><div class="line">sudo make install</div></pre></td></tr></table></figure></p>
<p>然后重新打开终端，再次查看，可以看到 <code>OpenSSH</code> 的版本已经升级到 <code>7.4</code> 了。</p>
<p>参考资料：<br><a href="https://gist.github.com/techgaun/df66d37379df37838482c4c3470bc48e" target="_blank" rel="external">https://gist.github.com/techgaun/df66d37379df37838482c4c3470bc48e</a><br><a href="https://my.oschina.net/u/1177171/blog/1862530" target="_blank" rel="external">https://my.oschina.net/u/1177171/blog/1862530</a></p>

      
    </div>
      
        
        
      
      <div class="clearfix"></div>
      </footer>
  </div>
</article>





  <article class="post">
  <div class="post-content">
    <header>
      
  
    <h1 class="title"><a href="/blog-hexo/2018/09/17/Linux用户免密码sudo执行命令/">Linux用户免密码sudo执行命令</a></h1>
  

      
        <time datetime="2018-09-17T10:55:46.000Z">2018-09-17</time>
      
    </header>
    <div class="entry">
      
        <p>如果希望远程从服务器上下载文件，并删除相关文件，主要步骤可能如下：</p>
<ul>
<li>ssh远程到服务器执行zip命令</li>
<li>将zip文件下载到本地</li>
<li>比对服务器zip文件和本地zip文件的md5值是否一致，确保下载文件完整性</li>
<li>删除服务器上的相关文件</li>
</ul>
<p>其中最后一步，由于待删除的文件可能不属于当前用户，可能需要使用 <code>sudo</code> 命令才可以删除。</p>
<p>然而远程执行 <code>sudo</code> 命令时，如果要求输入密码会比较麻烦，因此需要有一种免密码 <code>sudo</code> 执行命令的方式。</p>
<p>通常我们赋予某位用户 <code>sudo</code> 权限时，是使用root用户在 <code>/etc/sudoers</code> 文件中添加一行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[user_name] ALL=(ALL:ALL) ALL</div></pre></td></tr></table></figure></p>
<p>如果希望某位用户执行所有 <code>sudo</code> 命令时，都能够免密码，则方法是添加 <code>NOPASSWD:</code> 修饰：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[user_name] ALL=(ALL:ALL) NOPASSWD: ALL</div></pre></td></tr></table></figure></p>
<p>事实上，上述这一行配置中，每一个元素的含义是：</p>
<ul>
<li>第一个 <code>[user_name]</code> 指代适用对象，可以写用户名称，也可以写组名称（组名称用 <code>%</code> 前缀开始）；</li>
<li>第一个 <code>ALL</code> 表示的是适用主机，可以填写 <code>localhost</code> ，也可以使用 <code>ALL</code> 表示所有；</li>
<li>等号右边的值放在括号内，表示的是（用户：用户组），即适用对象能够以什么身份执行；</li>
<li>关于 <code>NOPASSWD:</code> 修饰符的作用是免密输入；</li>
<li>最后一个 <code>ALL</code> 的含义是执行的命令，如果是 <code>ALL</code> 则是所有命令，如果希望有限制可以写成特定命令。</li>
</ul>
<p>所以，如果希望使用户能够执行某些命令时免密，可以修改最后一栏的参数为对应命令：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">user_name ALL=(ALL:ALL) NOPASSWORD: /path/to/command/cmd.sh</div></pre></td></tr></table></figure></p>
<p>这样用户在执行 <code>sudo ./path/to/command/cmd.sh</code> 命令时，可以免密码；而执行其它 <code>sudo [command]</code> 时，依然需要输入密码。</p>

      
    </div>
      
        
        
      
      <div class="clearfix"></div>
      </footer>
  </div>
</article>






<nav id="pagination">
  
    <a href="/blog-hexo/" class="alignleft prev">Prev</a>
  
  
    <a href="/blog-hexo/page/3/" class="alignright next">Next</a>
  
  <div class="clearfix"></div>
</nav></div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Search">
    <input type="hidden" name="q" value="site:ckmessi.github.io">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">Recent Posts</h3>
  <ul class="entry">
    
      <li>
        <a href="/blog-hexo/2019/02/18/初识Anime-js/">初识Anime.js</a>
      </li>
    
      <li>
        <a href="/blog-hexo/2019/02/14/使用hexdump输出文件的十六进制编码/">使用hexdump输出文件的十六进制编码</a>
      </li>
    
      <li>
        <a href="/blog-hexo/2019/02/13/使用SSH搭建端口转发的两个应用场景/">使用SSH搭建端口转发的两个应用场景</a>
      </li>
    
      <li>
        <a href="/blog-hexo/2019/01/30/终端使用base64进行编码解码/">终端使用base64进行编码解码</a>
      </li>
    
      <li>
        <a href="/blog-hexo/2019/01/28/初识Drools/">初识Drools</a>
      </li>
    
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">Categories</h3>
  <ul class="entry">
  
    <li><a href="/blog-hexo/categories/Android/">Android</a><small>1</small></li>
  
    <li><a href="/blog-hexo/categories/人脸识别/">人脸识别</a><small>1</small></li>
  
    <li><a href="/blog-hexo/categories/前端/">前端</a><small>19</small></li>
  
    <li><a href="/blog-hexo/categories/后台/">后台</a><small>48</small></li>
  
    <li><a href="/blog-hexo/categories/工具/">工具</a><small>20</small></li>
  
    <li><a href="/blog-hexo/categories/深度学习/">深度学习</a><small>1</small></li>
  
  </ul>
</div>


  
<div class="widget tagcloud">
  <h3 class="title">Tag Cloud</h3>
  <div class="entry">
    <a href="/blog-hexo/tags/AIDL/" style="font-size: 10px;">AIDL</a> <a href="/blog-hexo/tags/Ajax/" style="font-size: 10px;">Ajax</a> <a href="/blog-hexo/tags/Android/" style="font-size: 10px;">Android</a> <a href="/blog-hexo/tags/Angular/" style="font-size: 12.22px;">Angular</a> <a href="/blog-hexo/tags/Anime-js/" style="font-size: 10px;">Anime.js</a> <a href="/blog-hexo/tags/Apache/" style="font-size: 10px;">Apache</a> <a href="/blog-hexo/tags/Azure/" style="font-size: 10px;">Azure</a> <a href="/blog-hexo/tags/C/" style="font-size: 12.22px;">C#</a> <a href="/blog-hexo/tags/C/" style="font-size: 10px;">C++</a> <a href="/blog-hexo/tags/CORS/" style="font-size: 10px;">CORS</a> <a href="/blog-hexo/tags/CSharp/" style="font-size: 11.11px;">CSharp</a> <a href="/blog-hexo/tags/Command-Line/" style="font-size: 11.11px;">Command Line</a> <a href="/blog-hexo/tags/Crontab/" style="font-size: 10px;">Crontab</a> <a href="/blog-hexo/tags/Deep-Learning/" style="font-size: 10px;">Deep Learning</a> <a href="/blog-hexo/tags/ElementUI/" style="font-size: 12.22px;">ElementUI</a> <a href="/blog-hexo/tags/Excel/" style="font-size: 10px;">Excel</a> <a href="/blog-hexo/tags/Faster-RCNN/" style="font-size: 10px;">Faster RCNN</a> <a href="/blog-hexo/tags/Frontend/" style="font-size: 10px;">Frontend</a> <a href="/blog-hexo/tags/Git/" style="font-size: 15.56px;">Git</a> <a href="/blog-hexo/tags/Github/" style="font-size: 10px;">Github</a> <a href="/blog-hexo/tags/Grunt/" style="font-size: 10px;">Grunt</a> <a href="/blog-hexo/tags/HTML/" style="font-size: 10px;">HTML</a> <a href="/blog-hexo/tags/Hexo/" style="font-size: 13.33px;">Hexo</a> <a href="/blog-hexo/tags/Java/" style="font-size: 12.22px;">Java</a> <a href="/blog-hexo/tags/JavaScript/" style="font-size: 10px;">JavaScript</a> <a href="/blog-hexo/tags/Javascript/" style="font-size: 17.78px;">Javascript</a> <a href="/blog-hexo/tags/Laravel/" style="font-size: 18.89px;">Laravel</a> <a href="/blog-hexo/tags/Laravel扩展/" style="font-size: 10px;">Laravel扩展</a> <a href="/blog-hexo/tags/License/" style="font-size: 10px;">License</a> <a href="/blog-hexo/tags/Linux/" style="font-size: 16.67px;">Linux</a> <a href="/blog-hexo/tags/Mac/" style="font-size: 10px;">Mac</a> <a href="/blog-hexo/tags/MacOS/" style="font-size: 10px;">MacOS</a> <a href="/blog-hexo/tags/MySQL/" style="font-size: 10px;">MySQL</a> <a href="/blog-hexo/tags/Mybatis/" style="font-size: 11.11px;">Mybatis</a> <a href="/blog-hexo/tags/Mysql/" style="font-size: 11.11px;">Mysql</a> <a href="/blog-hexo/tags/Nginx/" style="font-size: 11.11px;">Nginx</a> <a href="/blog-hexo/tags/Node-js/" style="font-size: 10px;">Node.js</a> <a href="/blog-hexo/tags/NodeJS/" style="font-size: 10px;">NodeJS</a> <a href="/blog-hexo/tags/Oh-My-Zsh/" style="font-size: 10px;">Oh-My-Zsh</a> <a href="/blog-hexo/tags/OpenSSH/" style="font-size: 10px;">OpenSSH</a> <a href="/blog-hexo/tags/Oracle/" style="font-size: 11.11px;">Oracle</a> <a href="/blog-hexo/tags/PHP/" style="font-size: 20px;">PHP</a> <a href="/blog-hexo/tags/PHPUnit/" style="font-size: 10px;">PHPUnit</a> <a href="/blog-hexo/tags/Pipe/" style="font-size: 10px;">Pipe</a> <a href="/blog-hexo/tags/PowerShell/" style="font-size: 11.11px;">PowerShell</a> <a href="/blog-hexo/tags/React/" style="font-size: 10px;">React</a> <a href="/blog-hexo/tags/RuleEngine/" style="font-size: 10px;">RuleEngine</a> <a href="/blog-hexo/tags/SSH/" style="font-size: 12.22px;">SSH</a> <a href="/blog-hexo/tags/Spring/" style="font-size: 10px;">Spring</a> <a href="/blog-hexo/tags/Spring-Boot/" style="font-size: 10px;">Spring Boot</a> <a href="/blog-hexo/tags/Ubuntu/" style="font-size: 12.22px;">Ubuntu</a> <a href="/blog-hexo/tags/Visual-Studio/" style="font-size: 10px;">Visual Studio</a> <a href="/blog-hexo/tags/VisualStudio/" style="font-size: 10px;">VisualStudio</a> <a href="/blog-hexo/tags/Vue/" style="font-size: 14.44px;">Vue</a> <a href="/blog-hexo/tags/Windows/" style="font-size: 12.22px;">Windows</a> <a href="/blog-hexo/tags/XML/" style="font-size: 10px;">XML</a> <a href="/blog-hexo/tags/Zip/" style="font-size: 10px;">Zip</a> <a href="/blog-hexo/tags/base64/" style="font-size: 10px;">base64</a> <a href="/blog-hexo/tags/fastjson/" style="font-size: 10px;">fastjson</a> <a href="/blog-hexo/tags/grep/" style="font-size: 10px;">grep</a> <a href="/blog-hexo/tags/hexdump/" style="font-size: 10px;">hexdump</a> <a href="/blog-hexo/tags/interact-js/" style="font-size: 10px;">interact.js</a> <a href="/blog-hexo/tags/libfacedetection/" style="font-size: 10px;">libfacedetection</a> <a href="/blog-hexo/tags/md5/" style="font-size: 10px;">md5</a> <a href="/blog-hexo/tags/mysql/" style="font-size: 10px;">mysql</a> <a href="/blog-hexo/tags/npm/" style="font-size: 10px;">npm</a> <a href="/blog-hexo/tags/vim/" style="font-size: 10px;">vim</a> <a href="/blog-hexo/tags/个人博客/" style="font-size: 12.22px;">个人博客</a> <a href="/blog-hexo/tags/前端/" style="font-size: 10px;">前端</a> <a href="/blog-hexo/tags/对象检测/" style="font-size: 10px;">对象检测</a> <a href="/blog-hexo/tags/概率论/" style="font-size: 10px;">概率论</a> <a href="/blog-hexo/tags/正则表达式/" style="font-size: 10px;">正则表达式</a>
  </div>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2019 ckmessi
  
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>



</body>
</html>

